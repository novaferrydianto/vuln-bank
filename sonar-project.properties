# ============================================================
# Core project metadata
# ============================================================
sonar.projectKey=vuln-bank
sonar.projectName=Vuln Bank
sonar.projectVersion=1.0.0

# ============================================================
# Source configuration
# ============================================================
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Python runtime
sonar.language=py
sonar.python.version=3.11

# ============================================================
# Exclusions (noise / generated / security artifacts)
# ============================================================
sonar.exclusions=\
  **/__pycache__/**,\
  **/.venv/**,\
  **/venv/**,\
  **/node_modules/**,\
  **/security-reports/**,\
  **/.scannerwork/**,\
  **/dist/**,\
  **/build/**,\
  **/*.min.js

# ============================================================
# Tests (optional / future-proof)
# ============================================================
sonar.tests=tests
sonar.test.inclusions=**/*test*.py

# ============================================================
# External Issues (Bandit + Semgrep merged)
# ============================================================
# This file should be produced by:
#   scripts/bandit_to_sonar.py
#   scripts/semgrep_to_sonar.py
#   scripts/merge_sonar_issues.py
sonar.externalIssuesReportPaths=security-reports/sonar-external.json

# ============================================================
# Security-focused tuning
# ============================================================
# We want to see *potential* vulnerabilities, not only confirmed
sonar.security.hotspots.onlyAnalyzeConfirmedIssues=false

# Disable overlapping Sonar engines (avoid double counting)
sonar.python.bandit.activate=false
sonar.python.flake8.activate=false

# ============================================================
# Coverage (optional, safe to leave enabled)
# ============================================================
sonar.python.coverage.reportPaths=security-reports/coverage.xml

# ============================================================
# CI / SCM hygiene
# ============================================================
sonar.scm.provider=git
sonar.scm.forceReloadAll=true

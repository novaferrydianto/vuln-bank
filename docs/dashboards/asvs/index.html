<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Vuln Bank – ASVS Security Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Executive-ready ASVS security posture dashboard with measurable controls and maturity scoring." />
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

<header>
  <h1>Application Security Posture (ASVS)</h1>
  <p class="subtitle">
    Continuous · Measurable · Audit-ready
  </p>
</header>

<!-- ================================================= -->
<!-- KPI SUMMARY -->
<!-- ================================================= -->
<section class="kpi">
  <div class="card">
    <h2>Maturity Score</h2>
    <div id="maturity-score" class="score big">–</div>
    <span class="muted">0–100 scale</span>
  </div>

  <div class="card">
    <h2>Coverage</h2>
    <div id="coverage-percent" class="score">–</div>
    <span class="muted">% ASVS controls passing</span>
  </div>

  <div class="card">
    <h2>Controls Evaluated</h2>
    <div id="control-count" class="score">–</div>
    <span class="muted">total controls</span>
  </div>
</section>

<!-- ================================================= -->
<!-- STATUS + DONUT -->
<!-- ================================================= -->
<section class="card">
  <h2>Control Status Overview</h2>

  <div class="badges">
    <span class="badge fail">FAIL: <b id="fail-count">–</b></span>
    <span class="badge pass">PASS: <b id="pass-count">–</b></span>
    <span class="badge na">N/A: <b id="na-count">–</b></span>
  </div>

  <!-- Donut Chart -->
  <div class="donut-wrapper">
    <svg width="220" height="220" viewBox="0 0 220 220" aria-label="PASS vs FAIL distribution">
      <circle cx="110" cy="110" r="90" class="donut-bg" />

      <circle
        cx="110"
        cy="110"
        r="90"
        class="donut-pass"
        id="donut-pass"
      />

      <circle
        cx="110"
        cy="110"
        r="90"
        class="donut-fail"
        id="donut-fail"
      />

      <text x="110" y="105" text-anchor="middle" class="donut-text">
        <tspan id="donut-percent" class="donut-main">–%</tspan>
        <tspan x="110" y="125" class="donut-sub">PASS</tspan>
      </text>
    </svg>

    <div class="legend">
      <div><span class="dot pass"></span> PASS</div>
      <div><span class="dot fail"></span> FAIL</div>
      <div><span class="dot na"></span> NOT APPLICABLE</div>
    </div>
  </div>
</section>

<!-- ================================================= -->
<!-- CONTROLS TABLE -->
<!-- ================================================= -->
<section class="card">
  <h2>ASVS Controls (Risk-First View)</h2>
  <p class="muted">
    FAIL controls are intentionally listed first to support prioritization.
  </p>

  <table>
    <thead>
      <tr>
        <th>Control</th>
        <th>Level</th>
        <th>Status</th>
        <th>Evidence</th>
      </tr>
    </thead>
    <tbody id="controls-table">
      <!-- injected by app.js -->
    </tbody>
  </table>
</section>

<!-- ================================================= -->
<!-- EXECUTIVE EXPLANATION -->
<!-- ================================================= -->
<section class="card explain">
  <h2>Why “FAIL” ≠ Bad</h2>

  <ul>
    <li><b>FAIL</b> means the control is visible, measurable, and tracked.</li>
    <li>Unmeasured security equals invisible risk.</li>
    <li>Each FAIL is prioritized automatically in CI/CD.</li>
    <li>Security maturity improves as FAIL trends decrease over time.</li>
  </ul>

  <p class="muted">
    This dashboard focuses on <b>trend and exposure reduction</b>, not blame.
  </p>
</section>

<footer>
  <p>
    Generated automatically from CI pipelines · ASVS-aligned · Audit-ready
  </p>
</footer>

<script src="app.js"></script>
</body>
</html>

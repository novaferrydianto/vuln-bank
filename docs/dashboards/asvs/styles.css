/* ====================================================
   Design Tokens (Single Source of Truth)
   ==================================================== */
:root {
  /* Backgrounds */
  --bg-page: #f6f8fa;
  --bg-card: #ffffff;
  --bg-header: #0b1f33;

  /* Text */
  --text-main: #24292f;
  --text-muted: #57606a;
  --text-invert: #ffffff;

  /* Status Colors */
  --color-pass: #067647;
  --color-pass-bg: #e6fffa;

  --color-fail: #b42318;
  --color-fail-bg: #ffeaea;

  --color-na: #495057;
  --color-na-bg: #f1f3f5;

  /* UI */
  --border-soft: #eaecef;
  --radius-card: 10px;
  --shadow-soft: 0 1px 4px rgba(0, 0, 0, 0.06);

  /* Chart */
  --donut-bg: #e6e8eb;
}

/* ====================================================
   Reset & Base
   ==================================================== */
*,
*::before,
*::after {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  background: var(--bg-page);
  color: var(--text-main);
  line-height: 1.45;
}

/* ====================================================
   Header
   ==================================================== */
header {
  background: var(--bg-header);
  color: var(--text-invert);
  padding: 1.6rem 2rem;
}

header h1 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
}

.subtitle {
  margin-top: 0.3rem;
  font-size: 0.95rem;
  opacity: 0.85;
}

.header {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.header-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
}

.meta-badge {
  background: rgba(255, 255, 255, 0.12);
  padding: 0.3rem 0.6rem;
  border-radius: 999px;
  font-size: 0.75rem;
  letter-spacing: 0.02em;
}

/* ====================================================
   Layout
   ==================================================== */
section {
  padding: 1.6rem 2rem;
}

.kpi {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1rem;
}

/* ====================================================
   Cards
   ==================================================== */
.card {
  background: var(--bg-card);
  border-radius: var(--radius-card);
  padding: 1.3rem;
  box-shadow: var(--shadow-soft);
}

.card h2 {
  margin: 0 0 0.6rem;
  font-size: 1.05rem;
  font-weight: 600;
}

/* Emphasize primary KPI */
.kpi .card:first-child {
  border-left: 4px solid var(--color-pass);
}

/* ====================================================
   KPI Values
   ==================================================== */
.score {
  font-size: 2rem;
  font-weight: 700;
}

.score.big {
  font-size: 2.6rem;
}

.muted {
  font-size: 0.85rem;
  color: var(--text-muted);
}

/* ====================================================
   Badges
   ==================================================== */
.badges {
  display: flex;
  flex-wrap: wrap;
  gap: 0.6rem;
  margin-bottom: 1rem;
}

.badge {
  padding: 0.4rem 0.75rem;
  border-radius: 999px;
  font-size: 0.85rem;
  font-weight: 600;
}

.badge.pass {
  background: var(--color-pass-bg);
  color: var(--color-pass);
}

.badge.fail {
  background: var(--color-fail-bg);
  color: var(--color-fail);
}

.badge.na {
  background: var(--color-na-bg);
  color: var(--color-na);
}

/* ====================================================
   Donut Chart
   ==================================================== */
.donut-wrapper {
  display: flex;
  align-items: center;
  gap: 1.5rem;
  flex-wrap: wrap;
}

svg {
  max-width: 220px;
}

.donut-bg {
  fill: none;
  stroke: var(--donut-bg);
  stroke-width: 18;
}

.donut-pass,
.donut-fail {
  fill: none;
  stroke-width: 18;
  stroke-linecap: round;
  transform: rotate(-90deg);
  transform-origin: 50% 50%;
  stroke-dasharray: 0 565;
  transition: stroke-dasharray 0.6s ease;
}

.donut-pass {
  stroke: var(--color-pass);
}

.donut-fail {
  stroke: var(--color-fail);
}

.donut-text {
  fill: var(--text-main);
}

.donut-main {
  font-size: 1.6rem;
  font-weight: 700;
}

.donut-sub {
  font-size: 0.75rem;
  fill: var(--text-muted);
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .donut-pass,
  .donut-fail {
    transition: none;
  }
}

/* Legend */
.legend {
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  font-size: 0.85rem;
}

.legend .dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 0.4rem;
}

.legend .pass { background: var(--color-pass); }
.legend .fail { background: var(--color-fail); }
.legend .na   { background: var(--color-na); }

/* ====================================================
   Table
   ==================================================== */
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 0.8rem;
  font-size: 0.9rem;
}

th,
td {
  padding: 0.6rem;
  border-bottom: 1px solid var(--border-soft);
  text-align: left;
  vertical-align: top;
}

th {
  font-weight: 600;
  color: #1f2328;
}

tbody tr:hover {
  background: #eef2f7;
}

tr.fail {
  background: #fff5f5;
}

tr.pass {
  background: #f6fffa;
}

/* ====================================================
   Explain Section
   ==================================================== */
.explain ul {
  margin: 0.6rem 0 0;
  padding-left: 1.2rem;
}

.explain li {
  margin-bottom: 0.4rem;
}

/* ====================================================
   Footer
   ==================================================== */
footer {
  padding: 1.2rem 2rem;
  font-size: 0.8rem;
  color: var(--text-muted);
}
